<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_IRjAcKzhED6Vzs5xg7SO0g" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_varsItem" structureRef="app.checkout.bpm.CheckoutProcessData"/>
  <bpmn2:itemDefinition id="_requestItem" structureRef="app.checkout.dto.CheckoutRequestDto"/>
  <bpmn2:itemDefinition id="_orderIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_stockAvailableItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_paymentSuccessItem" structureRef="Boolean"/>
  <bpmn2:collaboration id="_47EC8DAC-CB52-4F92-944E-6CC9178C30A6" name="Default Collaboration">
    <bpmn2:participant id="_812FC9A2-F31B-4A76-A907-CA86BCDB6D42" name="Pool Participant" processRef="checkout_process"/>
  </bpmn2:collaboration>
  <bpmn2:process id="checkout_process" drools:packageName="app.checkout.bpm" drools:version="1.0" drools:adHoc="false" name="checkout-process" isExecutable="true" processType="Public">
    <bpmn2:property id="vars" itemSubjectRef="_varsItem" name="vars"/>
    <bpmn2:property id="request" itemSubjectRef="_requestItem" name="request"/>
    <bpmn2:property id="orderId" itemSubjectRef="_orderIdItem" name="orderId"/>
    <bpmn2:property id="stockAvailable" itemSubjectRef="_stockAvailableItem" name="stockAvailable"/>
    <bpmn2:property id="paymentSuccess" itemSubjectRef="_paymentSuccessItem" name="paymentSuccess"/>
    <bpmn2:sequenceFlow id="SequenceFlow_1" sourceRef="StartEvent_1" targetRef="Task_ValidateCart"/>
    <bpmn2:sequenceFlow id="SequenceFlow_2" sourceRef="Task_ValidateCart" targetRef="Task_CheckStock"/>
    <bpmn2:sequenceFlow id="SequenceFlow_3" sourceRef="Task_CheckStock" targetRef="Gateway_StockAvailable"/>
    <bpmn2:sequenceFlow id="SequenceFlow_StockYes" name="Yes" sourceRef="Gateway_StockAvailable" targetRef="Task_ReserveStock">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Yes]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return stockAvailable == true;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_4" sourceRef="Task_ReserveStock" targetRef="Task_CreateOrder"/>
    <bpmn2:sequenceFlow id="SequenceFlow_5" sourceRef="Task_CreateOrder" targetRef="Task_ProcessPayment"/>
    <bpmn2:sequenceFlow id="SequenceFlow_6" sourceRef="Task_ProcessPayment" targetRef="Gateway_PaymentSuccess"/>
    <bpmn2:sequenceFlow id="SequenceFlow_PaymentYes" name="Success" sourceRef="Gateway_PaymentSuccess" targetRef="Task_ConfirmDeduction">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Success]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return paymentSuccess == true;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_7" sourceRef="Task_ConfirmDeduction" targetRef="Task_ConfirmOrder"/>
    <bpmn2:sequenceFlow id="SequenceFlow_8" sourceRef="Task_ConfirmOrder" targetRef="Task_SendEmail"/>
    <bpmn2:sequenceFlow id="SequenceFlow_PaymentNo" name="Failed" sourceRef="Gateway_PaymentSuccess" targetRef="Task_ReleaseStock">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Failed]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return paymentSuccess == false;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_9" sourceRef="Task_ReleaseStock" targetRef="Gateway_MergeCancel"/>
    <bpmn2:sequenceFlow id="SequenceFlow_StockNo" name="No" sourceRef="Gateway_StockAvailable" targetRef="Gateway_MergeCancel">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return stockAvailable == false;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_10" sourceRef="Gateway_MergeCancel" targetRef="Task_CancelOrder"/>
    <bpmn2:sequenceFlow id="SequenceFlow_Success" sourceRef="Task_SendEmail" targetRef="EndEvent_Success"/>
    <bpmn2:sequenceFlow id="SequenceFlow_Failed" sourceRef="Task_CancelOrder" targetRef="EndEvent_Failed"/>
    <bpmn2:startEvent id="StartEvent_1" name="Start">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Start]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:scriptTask id="Task_ValidateCart" name="Validate Cart" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Validate Cart]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 1: Validating cart...");
        if (request == null || request.getItems() == null || request.getItems().isEmpty()) {
            throw new IllegalArgumentException("Cart is empty or invalid");
        }
        System.out.println("Cart is valid");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_CheckStock" name="Check Stock" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Check Stock]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 2: Checking stock availability...");
        kcontext.setVariable("stockAvailable", true);
        System.out.println("Stock is available");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="Gateway_StockAvailable" name="Stock Available?" gatewayDirection="Diverging">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Stock Available?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_StockNo</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_StockYes</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="Task_ReserveStock" name="Reserve Stock" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Reserve Stock]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_StockYes</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_4</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 3: Reserving stock...");
        System.out.println("Stock reserved successfully");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_CreateOrder" name="Create Order" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Create Order]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_4</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 4: Creating order...");
        kcontext.setVariable("orderId", java.util.UUID.randomUUID().toString());
        System.out.println("Order created with ID: " + orderId);
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_ProcessPayment" name="Process Payment" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Process Payment]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 5: Processing payment...");
        kcontext.setVariable("paymentSuccess", true);
        System.out.println("Payment processed successfully");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="Gateway_PaymentSuccess" name="Payment Success?" gatewayDirection="Diverging">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Payment Success?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_PaymentNo</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_PaymentYes</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="Task_ConfirmDeduction" name="Confirm Deduction" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Confirm Deduction]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_PaymentYes</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 6: Confirming stock deduction...");
        System.out.println("Stock deduction confirmed");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_ConfirmOrder" name="Confirm Order" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Confirm Order]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 7: Confirming order...");
        System.out.println("Order confirmed: " + orderId);
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_SendEmail" name="Send Notification" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Send Notification]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_Success</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Step 8: Sending confirmation email...");
        System.out.println("Notification sent for order: " + orderId);
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="Task_ReleaseStock" name="Release Stock" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Release Stock]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_PaymentNo</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_9</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Rollback: Releasing reserved stock...");
        System.out.println("Stock released");
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="Gateway_MergeCancel" name="Merge Cancel Paths" gatewayDirection="Converging">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Merge Cancel Paths]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_StockNo</bpmn2:incoming>
      <bpmn2:incoming>SequenceFlow_9</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="Task_CancelOrder" name="Cancel Order" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Cancel Order]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_Failed</bpmn2:outgoing>
      <bpmn2:script>
        System.out.println("Cancelling order...");
        if (orderId != null) {
            System.out.println("Order cancelled: " + orderId);
        } else {
            System.out.println("Checkout cancelled - order not created");
        }
      </bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:endEvent id="EndEvent_Success" name="Success">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Success]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_Success</bpmn2:incoming>
      <bpmn2:terminateEventDefinition/>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="EndEvent_Failed" name="Failed">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Failed]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_Failed</bpmn2:incoming>
      <bpmn2:terminateEventDefinition/>
    </bpmn2:endEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="checkout_process">
      <bpmndi:BPMNShape id="shape_EndEvent_Failed" bpmnElement="EndEvent_Failed">
        <dc:Bounds height="56" width="56" x="431" y="288"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_EndEvent_Success" bpmnElement="EndEvent_Success">
        <dc:Bounds height="56" width="56" x="1468" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_CancelOrder" bpmnElement="Task_CancelOrder">
        <dc:Bounds height="50" width="100" x="680" y="294"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Gateway_MergeCancel" bpmnElement="Gateway_MergeCancel">
        <dc:Bounds height="56" width="56" x="700" y="200"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ReleaseStock" bpmnElement="Task_ReleaseStock">
        <dc:Bounds height="50" width="100" x="960" y="200"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_SendEmail" bpmnElement="Task_SendEmail">
        <dc:Bounds height="50" width="100" x="1320" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ConfirmOrder" bpmnElement="Task_ConfirmOrder">
        <dc:Bounds height="50" width="100" x="1180" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ConfirmDeduction" bpmnElement="Task_ConfirmDeduction">
        <dc:Bounds height="50" width="100" x="1040" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Gateway_PaymentSuccess" bpmnElement="Gateway_PaymentSuccess">
        <dc:Bounds height="56" width="56" x="960" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ProcessPayment" bpmnElement="Task_ProcessPayment">
        <dc:Bounds height="50" width="100" x="820" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_CreateOrder" bpmnElement="Task_CreateOrder">
        <dc:Bounds height="50" width="100" x="680" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ReserveStock" bpmnElement="Task_ReserveStock">
        <dc:Bounds height="50" width="100" x="540" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Gateway_StockAvailable" bpmnElement="Gateway_StockAvailable">
        <dc:Bounds height="56" width="56" x="452" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_CheckStock" bpmnElement="Task_CheckStock">
        <dc:Bounds height="50" width="100" x="320" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_Task_ValidateCart" bpmnElement="Task_ValidateCart">
        <dc:Bounds height="50" width="100" x="180" y="85"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds height="56" width="56" x="94" y="82"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape_Task_CancelOrder_to_shape_EndEvent_Failed" bpmnElement="SequenceFlow_Failed">
        <di:waypoint x="730" y="319"/>
        <di:waypoint x="467" y="306"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_SendEmail_to_shape_EndEvent_Success" bpmnElement="SequenceFlow_Success">
        <di:waypoint x="1420" y="110"/>
        <di:waypoint x="1468" y="103"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Gateway_MergeCancel_to_shape_Task_CancelOrder" bpmnElement="SequenceFlow_10">
        <di:waypoint x="724" y="224"/>
        <di:waypoint x="730" y="319"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Gateway_StockAvailable_to_shape_Gateway_MergeCancel" bpmnElement="SequenceFlow_StockNo">
        <di:waypoint x="452" y="133"/>
        <di:waypoint x="452" y="228"/>
        <di:waypoint x="700" y="224"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ReleaseStock_to_shape_Gateway_MergeCancel" bpmnElement="SequenceFlow_9">
        <di:waypoint x="1010" y="225"/>
        <di:waypoint x="748" y="224"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Gateway_PaymentSuccess_to_shape_Task_ReleaseStock" bpmnElement="SequenceFlow_PaymentNo">
        <di:waypoint x="1008" y="133"/>
        <di:waypoint x="1008" y="225"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ConfirmOrder_to_shape_Task_SendEmail" bpmnElement="SequenceFlow_8">
        <di:waypoint x="1280" y="110"/>
        <di:waypoint x="1320" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ConfirmDeduction_to_shape_Task_ConfirmOrder" bpmnElement="SequenceFlow_7">
        <di:waypoint x="1140" y="110"/>
        <di:waypoint x="1180" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Gateway_PaymentSuccess_to_shape_Task_ConfirmDeduction" bpmnElement="SequenceFlow_PaymentYes">
        <di:waypoint x="1008" y="109"/>
        <di:waypoint x="1040" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ProcessPayment_to_shape_Gateway_PaymentSuccess" bpmnElement="SequenceFlow_6">
        <di:waypoint x="920" y="110"/>
        <di:waypoint x="960" y="109"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_CreateOrder_to_shape_Task_ProcessPayment" bpmnElement="SequenceFlow_5">
        <di:waypoint x="780" y="110"/>
        <di:waypoint x="820" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ReserveStock_to_shape_Task_CreateOrder" bpmnElement="SequenceFlow_4">
        <di:waypoint x="640" y="110"/>
        <di:waypoint x="680" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Gateway_StockAvailable_to_shape_Task_ReserveStock" bpmnElement="SequenceFlow_StockYes">
        <di:waypoint x="500" y="109"/>
        <di:waypoint x="540" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_CheckStock_to_shape_Gateway_StockAvailable" bpmnElement="SequenceFlow_3">
        <di:waypoint x="420" y="110"/>
        <di:waypoint x="452" y="109"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_Task_ValidateCart_to_shape_Task_CheckStock" bpmnElement="SequenceFlow_2">
        <di:waypoint x="280" y="110"/>
        <di:waypoint x="320" y="110"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape_StartEvent_1_to_shape_Task_ValidateCart" bpmnElement="SequenceFlow_1">
        <di:waypoint x="130" y="100"/>
        <di:waypoint x="180" y="110"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters/>
          <bpsim:ElementParameters elementRef="Task_CancelOrder">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ReleaseStock">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_SendEmail">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ConfirmOrder">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ConfirmDeduction">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ProcessPayment">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_CreateOrder">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ReserveStock">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_CheckStock">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="Task_ValidateCart">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="StartEvent_1">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_IRjAcKzhED6Vzs5xg7SO0g</bpmn2:source>
    <bpmn2:target>_IRjAcKzhED6Vzs5xg7SO0g</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>